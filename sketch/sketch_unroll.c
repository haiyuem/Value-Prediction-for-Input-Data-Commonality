#include <stdio.h>
#include <stdlib.h>

static const int num_frame = 10;
static const int frame_size = 200;

int func (int* array) {
    for (int i = 0; i < num_frame; i++) {
        array[i*frame_size+0]+=1;
        array[i*frame_size+1]+=1;
        array[i*frame_size+2]+=1;
        array[i*frame_size+3]+=1;
        array[i*frame_size+4]+=1;
        array[i*frame_size+5]+=1;
        array[i*frame_size+6]+=1;
        array[i*frame_size+7]+=1;
        array[i*frame_size+8]+=1;
        array[i*frame_size+9]+=1;
        array[i*frame_size+10]+=1;
        array[i*frame_size+11]+=1;
        array[i*frame_size+12]+=1;
        array[i*frame_size+13]+=1;
        array[i*frame_size+14]+=1;
        array[i*frame_size+15]+=1;
        array[i*frame_size+16]+=1;
        array[i*frame_size+17]+=1;
        array[i*frame_size+18]+=1;
        array[i*frame_size+19]+=1;
        array[i*frame_size+20]+=1;
        array[i*frame_size+21]+=1;
        array[i*frame_size+22]+=1;
        array[i*frame_size+23]+=1;
        array[i*frame_size+24]+=1;
        array[i*frame_size+25]+=1;
        array[i*frame_size+26]+=1;
        array[i*frame_size+27]+=1;
        array[i*frame_size+28]+=1;
        array[i*frame_size+29]+=1;
        array[i*frame_size+30]+=1;
        array[i*frame_size+31]+=1;
        array[i*frame_size+32]+=1;
        array[i*frame_size+33]+=1;
        array[i*frame_size+34]+=1;
        array[i*frame_size+35]+=1;
        array[i*frame_size+36]+=1;
        array[i*frame_size+37]+=1;
        array[i*frame_size+38]+=1;
        array[i*frame_size+39]+=1;
        array[i*frame_size+40]+=1;
        array[i*frame_size+41]+=1;
        array[i*frame_size+42]+=1;
        array[i*frame_size+43]+=1;
        array[i*frame_size+44]+=1;
        array[i*frame_size+45]+=1;
        array[i*frame_size+46]+=1;
        array[i*frame_size+47]+=1;
        array[i*frame_size+48]+=1;
        array[i*frame_size+49]+=1;
        array[i*frame_size+50]+=1;
        array[i*frame_size+51]+=1;
        array[i*frame_size+52]+=1;
        array[i*frame_size+53]+=1;
        array[i*frame_size+54]+=1;
        array[i*frame_size+55]+=1;
        array[i*frame_size+56]+=1;
        array[i*frame_size+57]+=1;
        array[i*frame_size+58]+=1;
        array[i*frame_size+59]+=1;
        array[i*frame_size+60]+=1;
        array[i*frame_size+61]+=1;
        array[i*frame_size+62]+=1;
        array[i*frame_size+63]+=1;
        array[i*frame_size+64]+=1;
        array[i*frame_size+65]+=1;
        array[i*frame_size+66]+=1;
        array[i*frame_size+67]+=1;
        array[i*frame_size+68]+=1;
        array[i*frame_size+69]+=1;
        array[i*frame_size+70]+=1;
        array[i*frame_size+71]+=1;
        array[i*frame_size+72]+=1;
        array[i*frame_size+73]+=1;
        array[i*frame_size+74]+=1;
        array[i*frame_size+75]+=1;
        array[i*frame_size+76]+=1;
        array[i*frame_size+77]+=1;
        array[i*frame_size+78]+=1;
        array[i*frame_size+79]+=1;
        array[i*frame_size+80]+=1;
        array[i*frame_size+81]+=1;
        array[i*frame_size+82]+=1;
        array[i*frame_size+83]+=1;
        array[i*frame_size+84]+=1;
        array[i*frame_size+85]+=1;
        array[i*frame_size+86]+=1;
        array[i*frame_size+87]+=1;
        array[i*frame_size+88]+=1;
        array[i*frame_size+89]+=1;
        array[i*frame_size+90]+=1;
        array[i*frame_size+91]+=1;
        array[i*frame_size+92]+=1;
        array[i*frame_size+93]+=1;
        array[i*frame_size+94]+=1;
        array[i*frame_size+95]+=1;
        array[i*frame_size+96]+=1;
        array[i*frame_size+97]+=1;
        array[i*frame_size+98]+=1;
        array[i*frame_size+99]+=1;

        array[i*frame_size+100]+=1;
        array[i*frame_size+101]+=1;
        array[i*frame_size+102]+=1;
        array[i*frame_size+103]+=1;
        
        array[i*frame_size+104]+=1;
        array[i*frame_size+105]+=1;
        array[i*frame_size+106]+=1;
        array[i*frame_size+107]+=1;
        array[i*frame_size+108]+=1;
        array[i*frame_size+109]+=1;
        array[i*frame_size+110]+=1;
        array[i*frame_size+111]+=1;
        array[i*frame_size+112]+=1;
        array[i*frame_size+113]+=1;
        array[i*frame_size+114]+=1;
        array[i*frame_size+115]+=1;
        array[i*frame_size+116]+=1;
        array[i*frame_size+117]+=1;
        array[i*frame_size+118]+=1;
        array[i*frame_size+119]+=1;
        array[i*frame_size+120]+=1;
        array[i*frame_size+121]+=1;
        array[i*frame_size+122]+=1;
        array[i*frame_size+123]+=1;
        array[i*frame_size+124]+=1;
        array[i*frame_size+125]+=1;
        array[i*frame_size+126]+=1;
        array[i*frame_size+127]+=1;
        array[i*frame_size+128]+=1;
        array[i*frame_size+129]+=1;
        array[i*frame_size+130]+=1;
        array[i*frame_size+131]+=1;
        array[i*frame_size+132]+=1;
        array[i*frame_size+133]+=1;
        array[i*frame_size+134]+=1;
        array[i*frame_size+135]+=1;
        array[i*frame_size+136]+=1;
        array[i*frame_size+137]+=1;
        array[i*frame_size+138]+=1;
        array[i*frame_size+139]+=1;
        array[i*frame_size+140]+=1;
        array[i*frame_size+141]+=1;
        array[i*frame_size+142]+=1;
        array[i*frame_size+143]+=1;
        array[i*frame_size+144]+=1;
        array[i*frame_size+145]+=1;
        array[i*frame_size+146]+=1;
        array[i*frame_size+147]+=1;
        array[i*frame_size+148]+=1;
        array[i*frame_size+149]+=1;
        array[i*frame_size+150]+=1;
        array[i*frame_size+151]+=1;
        array[i*frame_size+152]+=1;
        array[i*frame_size+153]+=1;
        array[i*frame_size+154]+=1;
        array[i*frame_size+155]+=1;
        array[i*frame_size+156]+=1;
        array[i*frame_size+157]+=1;
        array[i*frame_size+158]+=1;
        array[i*frame_size+159]+=1;
        array[i*frame_size+160]+=1;
        array[i*frame_size+161]+=1;
        array[i*frame_size+162]+=1;
        array[i*frame_size+163]+=1;
        array[i*frame_size+164]+=1;
        array[i*frame_size+165]+=1;
        array[i*frame_size+166]+=1;
        array[i*frame_size+167]+=1;
        array[i*frame_size+168]+=1;
        array[i*frame_size+169]+=1;
        array[i*frame_size+170]+=1;
        array[i*frame_size+171]+=1;
        array[i*frame_size+172]+=1;
        array[i*frame_size+173]+=1;
        array[i*frame_size+174]+=1;
        array[i*frame_size+175]+=1;
        array[i*frame_size+176]+=1;
        array[i*frame_size+177]+=1;
        array[i*frame_size+178]+=1;
        array[i*frame_size+179]+=1;
        array[i*frame_size+180]+=1;
        array[i*frame_size+181]+=1;
        array[i*frame_size+182]+=1;
        array[i*frame_size+183]+=1;
        array[i*frame_size+184]+=1;
        array[i*frame_size+185]+=1;
        array[i*frame_size+186]+=1;
        array[i*frame_size+187]+=1;
        array[i*frame_size+188]+=1;
        array[i*frame_size+189]+=1;
        array[i*frame_size+190]+=1;
        array[i*frame_size+191]+=1;
        array[i*frame_size+192]+=1;
        array[i*frame_size+193]+=1;
        array[i*frame_size+194]+=1;
        array[i*frame_size+195]+=1;
        array[i*frame_size+196]+=1;
        array[i*frame_size+197]+=1;
        array[i*frame_size+198]+=1;
        array[i*frame_size+199]+=1;
        //barrier

    } 
    return 0;
}

int main(int argc, char ** argv) {
    int* array = malloc((num_frame * frame_size) * sizeof(int));
    for (int i = 0; i < num_frame * frame_size; i++)
        array[i] = 127;
    func(array);
    free(array);
    return 0;
}